<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Stage - SkillSwap Universe</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="dashboard-page">
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>ğŸŒ SkillSwap</h2>
        </div>
        <nav class="sidebar-nav">
            <a href="dashboard.html" class="nav-item">
                <span class="nav-icon">ğŸ“Š</span>
                <span>Dashboard</span>
            </a>
            <a href="matching.html" class="nav-item">
                <span class="nav-icon">ğŸ¤–</span>
                <span>AI Matching</span>
            </a>
            <a href="clubs.html" class="nav-item">
                <span class="nav-icon">ğŸ‘¥</span>
                <span>Clubs</span>
            </a>
            <a href="stage.html" class="nav-item active">
                <span class="nav-icon">ğŸ¤</span>
                <span>Live Stage</span>
            </a>
            <a href="profile.html" class="nav-item">
                <span class="nav-icon">ğŸ‘¤</span>
                <span>Profile</span>
            </a>
        </nav>
        <div class="sidebar-footer">
            <div class="coin-balance">
                <span class="coin-icon">ğŸª™</span>
                <span class="coin-amount" id="sidebarCoins">250</span>
            </div>
            <button class="btn-logout" onclick="logout()">Logout</button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Bar -->
        <header class="topbar">
            <div class="topbar-left">
                <h1>ğŸ¤ Live Stage</h1>
            </div>
            <div class="topbar-right">
                <button class="btn-primary" onclick="showGoLiveModal()">ğŸ”´ Go Live</button>
                <button class="notification-btn">
                    <span class="notification-icon">ğŸ””</span>
                    <span class="notification-badge">3</span>
                </button>
                <div class="user-avatar">
                    <img src="https://ui-avatars.com/api/?name=Alex+Johnson&background=6366f1&color=fff" alt="User">
                </div>
            </div>
        </header>

        <!-- Live Now Section -->
        <div class="live-now-section">
            <h2>ğŸ”´ Live Now</h2>
            <div class="live-performances-grid">
                <!-- Live Performance 1 -->
                <div class="live-performance-card" onclick="joinPerformance('acoustic-session')">
                    <div class="live-badge-pulse">ğŸ”´ LIVE</div>
                    <div class="performance-thumbnail" style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);">
                        <div style="font-size: 5rem; color: white;">ğŸ¸</div>
                    </div>
                    <div class="viewer-count">ğŸ‘ï¸ 234 watching</div>
                    <div class="performance-info">
                        <h3>Acoustic Guitar Session</h3>
                        <p class="performer-name">By Sarah Kim</p>
                        <div class="performance-tags">
                            <span class="tag">ğŸ¸ Music</span>
                            <span class="tag">ğŸ“ Tutorial</span>
                            <span class="tag">ğŸŒŸ Beginner</span>
                        </div>
                    </div>
                </div>

                <!-- Live Performance 2 -->
                <div class="live-performance-card" onclick="joinPerformance('code-battle')">
                    <div class="live-badge-pulse">ğŸ”´ LIVE</div>
                    <div class="performance-thumbnail" style="background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);">
                        <div style="font-size: 5rem; color: white;">ğŸ’»</div>
                    </div>
                    <div class="viewer-count">ğŸ‘ï¸ 156 watching</div>
                    <div class="performance-info">
                        <h3>Code Battle: React vs Vue</h3>
                        <p class="performer-name">By Mike Chen & Team</p>
                        <div class="performance-tags">
                            <span class="tag">ğŸ’» Coding</span>
                            <span class="tag">âš”ï¸ Battle</span>
                            <span class="tag">ğŸ”¥ Advanced</span>
                        </div>
                    </div>
                </div>

                <!-- Live Performance 3 -->
                <div class="live-performance-card" onclick="joinPerformance('dance-workshop')">
                    <div class="live-badge-pulse">ğŸ”´ LIVE</div>
                    <div class="performance-thumbnail" style="background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);">
                        <div style="font-size: 5rem; color: white;">ğŸ’ƒ</div>
                    </div>
                    <div class="viewer-count">ğŸ‘ï¸ 89 watching</div>
                    <div class="performance-info">
                        <h3>Salsa Dance Workshop</h3>
                        <p class="performer-name">By Dance Studio</p>
                        <div class="performance-tags">
                            <span class="tag">ğŸ’ƒ Dance</span>
                            <span class="tag">ğŸ“ Workshop</span>
                            <span class="tag">ğŸŒŸ All Levels</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Upcoming Performances -->
        <div class="upcoming-section">
            <h2>ğŸ“… Upcoming Performances</h2>
            <div class="upcoming-list">
                <div class="upcoming-card">
                    <div class="time-box">
                        <div class="time-value">2:00 PM</div>
                        <div class="time-date">Today</div>
                    </div>
                    <div class="upcoming-details">
                        <h3>Piano Masterclass</h3>
                        <p>Learn classical piano techniques from a professional musician</p>
                        <p class="upcoming-host">ğŸ¹ Hosted by Emma Wilson</p>
                    </div>
                    <button class="btn-primary" onclick="setReminder('piano-masterclass')">Set Reminder</button>
                </div>

                <div class="upcoming-card">
                    <div class="time-box">
                        <div class="time-value">4:30 PM</div>
                        <div class="time-date">Today</div>
                    </div>
                    <div class="upcoming-details">
                        <h3>JavaScript Deep Dive</h3>
                        <p>Advanced JavaScript concepts and best practices</p>
                        <p class="upcoming-host">ğŸ’» Hosted by Raj Patel</p>
                    </div>
                    <button class="btn-primary" onclick="setReminder('js-deepdive')">Set Reminder</button>
                </div>

                <div class="upcoming-card">
                    <div class="time-box">
                        <div class="time-value">7:00 PM</div>
                        <div class="time-date">Today</div>
                    </div>
                    <div class="upcoming-details">
                        <h3>UI/UX Design Showcase</h3>
                        <p>Showcase your designs and get feedback from the community</p>
                        <p class="upcoming-host">ğŸ¨ Hosted by Design Hub</p>
                    </div>
                    <button class="btn-primary" onclick="setReminder('design-showcase')">Set Reminder</button>
                </div>
            </div>
        </div>

        <!-- Past Performances -->
        <div class="past-section">
            <h2>ğŸ¬ Past Performances</h2>
            <div class="past-performances-grid">
                <div class="past-card" onclick="watchRecording('guitar-basics')">
                    <div class="past-thumbnail" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <div class="play-overlay">â–¶ï¸</div>
                        <div style="font-size: 4rem; color: white; opacity: 0.3;">ğŸ¸</div>
                    </div>
                    <div class="duration-badge">45:30</div>
                    <div class="past-info">
                        <h4>Guitar Basics Workshop</h4>
                        <div class="past-meta">
                            <span>ğŸ¸ Sarah Kim</span>
                            <span>ğŸ‘ï¸ 523 views</span>
                        </div>
                    </div>
                </div>

                <div class="past-card" onclick="watchRecording('react-hooks')">
                    <div class="past-thumbnail" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <div class="play-overlay">â–¶ï¸</div>
                        <div style="font-size: 4rem; color: white; opacity: 0.3;">âš›ï¸</div>
                    </div>
                    <div class="duration-badge">1:12:45</div>
                    <div class="past-info">
                        <h4>React Hooks Masterclass</h4>
                        <div class="past-meta">
                            <span>ğŸ’» Mike Chen</span>
                            <span>ğŸ‘ï¸ 892 views</span>
                        </div>
                    </div>
                </div>

                <div class="past-card" onclick="watchRecording('spanish-conversation')">
                    <div class="past-thumbnail" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        <div class="play-overlay">â–¶ï¸</div>
                        <div style="font-size: 4rem; color: white; opacity: 0.3;">ğŸ‡ªğŸ‡¸</div>
                    </div>
                    <div class="duration-badge">38:15</div>
                    <div class="past-info">
                        <h4>Spanish Conversation Practice</h4>
                        <div class="past-meta">
                            <span>ğŸŒ Language Club</span>
                            <span>ğŸ‘ï¸ 345 views</span>
                        </div>
                    </div>
                </div>

                <div class="past-card" onclick="watchRecording('design-principles')">
                    <div class="past-thumbnail" style="background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);">
                        <div class="play-overlay">â–¶ï¸</div>
                        <div style="font-size: 4rem; color: white; opacity: 0.3;">ğŸ¨</div>
                    </div>
                    <div class="duration-badge">55:20</div>
                    <div class="past-info">
                        <h4>Design Principles 101</h4>
                        <div class="past-meta">
                            <span>ğŸ¨ Design Hub</span>
                            <span>ğŸ‘ï¸ 678 views</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Go Live Modal -->
    <div class="modal" id="goLiveModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeGoLiveModal()">âœ•</button>
            <h2>ğŸ¤ Start Live Performance</h2>
            <div class="modal-body">
                <div class="form-group">
                    <label>Performance Title</label>
                    <input type="text" id="performanceTitle" placeholder="e.g., Guitar Tutorial for Beginners">
                </div>
                <div class="form-group">
                    <label>Category</label>
                    <select id="performanceCategory">
                        <option value="">Select category...</option>
                        <option value="music">ğŸ¸ Music</option>
                        <option value="tech">ğŸ’» Technology</option>
                        <option value="art">ğŸ¨ Art & Design</option>
                        <option value="language">ğŸŒ Language</option>
                        <option value="fitness">ğŸƒ Fitness</option>
                        <option value="other">âœ¨ Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="performanceDesc" rows="3" placeholder="Tell viewers what you'll be teaching or showcasing..."></textarea>
                </div>
                <div class="form-group">
                    <label>Performance Type</label>
                    <select id="performanceType">
                        <option value="tutorial">ğŸ“ Tutorial</option>
                        <option value="workshop">ğŸ› ï¸ Workshop</option>
                        <option value="showcase">ğŸŒŸ Showcase</option>
                        <option value="battle">âš”ï¸ Battle/Competition</option>
                        <option value="qa">ğŸ’¬ Q&A Session</option>
                    </select>
                </div>
                <div class="go-live-info">
                    <h4>ğŸ“‹ Before You Go Live:</h4>
                    <div class="info-item">âœ… Test your camera and microphone</div>
                    <div class="info-item">âœ… Choose a well-lit, quiet space</div>
                    <div class="info-item">âœ… Prepare any materials you need</div>
                    <div class="info-item">ğŸ’° Earn 50 coins for each completed session</div>
                </div>
                <div class="modal-actions">
                    <button class="btn-primary" onclick="startLivePerformance()">ğŸ”´ Go Live Now</button>
                    <button class="btn-secondary" onclick="closeGoLiveModal()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Live Performance Modal -->
    <div class="modal stage-modal" id="stageModal">
        <div class="stage-modal-content">
            <button class="modal-close-stage" onclick="leaveStage()">âœ•</button>
            
            <!-- Video Area -->
            <div class="stage-video-area">
                <div class="main-stage">
                    <div class="stage-placeholder" style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);">
                        <div class="performer-live">
                            <div class="performer-avatar-large">ğŸ¸</div>
                            <h2>Sarah Kim</h2>
                            <p>Acoustic Guitar Session</p>
                        </div>
                    </div>
                    <div class="stage-live-badge">ğŸ”´ LIVE</div>
                    <div class="viewer-count-overlay">ğŸ‘ï¸ 234 watching</div>
                </div>
                
                <!-- Stage Controls -->
                <div class="stage-controls">
                    <button class="stage-control-btn" onclick="toggleStageMic()">
                        <span>ğŸ¤</span>
                        <span>Mic</span>
                    </button>
                    <button class="stage-control-btn" onclick="toggleStageCamera()">
                        <span>ğŸ“¹</span>
                        <span>Camera</span>
                    </button>
                    <button class="stage-control-btn" onclick="toggleStageScreen()">
                        <span>ğŸ–¥ï¸</span>
                        <span>Screen</span>
                    </button>
                    <button class="stage-control-btn" onclick="sendCheer()">
                        <span>ğŸ‘</span>
                        <span>Cheer</span>
                    </button>
                </div>
            </div>

            <!-- Chat Sidebar -->
            <div class="stage-chat">
                <div class="chat-header">
                    <h4>ğŸ’¬ Live Chat</h4>
                    <span>234 viewers</span>
                </div>
                <div class="chat-messages" id="stageChatMessages">
                    <div class="chat-message">
                        <span class="chat-user">Alex:</span> Great session! ğŸ¸
                    </div>
                    <div class="chat-message">
                        <span class="chat-user">Mike:</span> Can you show that chord again?
                    </div>
                    <div class="chat-message cheer">
                        ğŸ‘ Emma sent a cheer!
                    </div>
                    <div class="chat-message">
                        <span class="chat-user">Sarah:</span> Thanks everyone! Let me show you slowly
                    </div>
                    <div class="chat-message">
                        <span class="chat-user">Raj:</span> This is amazing! ğŸ”¥
                    </div>
                </div>
                <div class="chat-input-area">
                    <input type="text" id="stageChatInput" placeholder="Send a message...">
                    <button onclick="sendStageMessage()">Send</button>
                </div>
            </div>
        </div>
    </div>

    <script src="utils.js"></script>
    <script src="stage.js"></script>
</body>
</html>